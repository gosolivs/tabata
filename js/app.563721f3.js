(function(t){function e(e){for(var s,r,o=e[0],u=e[1],c=e[2],d=0,p=[];d<o.length;d++)r=o[d],i[r]&&p.push(i[r][0]),i[r]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(t[s]=u[s]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],s=!0,o=1;o<n.length;o++){var u=n[o];0!==i[u]&&(s=!1)}s&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},i={app:0},a=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/tabata/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var s=n("64a9"),i=n.n(s);i.a},1183:function(t,e,n){},2268:function(t,e,n){},"2b7a":function(t,e,n){"use strict";var s=n("3bb5"),i=n.n(s);i.a},"3bb5":function(t,e,n){},"3e4b":function(t,e,n){"use strict";var s=n("bbfb"),i=n.n(s);i.a},"49f8":function(t,e,n){var s={"./ru.json":"7704"};function i(t){var e=a(t);return n(e)}function a(t){var e=s[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}i.keys=function(){return Object.keys(s)},i.resolve=a,t.exports=i,i.id="49f8"},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var s,i=n("2b0e"),a=(n("acc7"),n("bd86")),r=n("2f62"),o="changePrepare",u="changeRest",c="changeWork",l="changeCycles";function d(t){return localStorage.getItem(t)}function p(t,e){localStorage.setItem(t,e)}i["a"].use(r["a"]);var m,f=new r["a"].Store({state:{prepare:d("prepare")?parseInt(d("prepare"),10):10,rest:d("rest")?parseInt(d("rest"),10):30,work:d("work")?parseInt(d("work"),10):30,cycles:d("cycles")?parseInt(d("prepare"),10):8},mutations:(s={},Object(a["a"])(s,o,function(t,e){t.prepare=e,p("prepare",e)}),Object(a["a"])(s,u,function(t,e){t.rest=e,p("rest",e)}),Object(a["a"])(s,c,function(t,e){t.work=e,p("work",e)}),Object(a["a"])(s,l,function(t,e){t.cycles=e,p("cycles",e)}),s)}),h=f,_=n("8c4f"),y={home:"home",settings:"settings"},v=y,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["home",{"home--start":t.started||t.paused},{"home--work":t.started&&!t.paused&&t.worked},{"home--rest":t.started&&!t.paused&&t.rested}]},[n("div",{staticClass:"home__wrap"},[t.started?t._e():n("home-time-info",{attrs:{prepare:t.prepare,rest:t.rest,work:t.work,cycles:t.cycles}}),t.started?n("home-timer",{attrs:{remained:t.remained,remainedCycles:t.remainedCycles,cycles:t.cycles,worked:t.worked,rested:t.rested,paused:t.paused}}):t._e(),t.started?t._e():n("div",{staticClass:"home__controls"},[n("base-button",{attrs:{onClick:t.clickSettings}},[t._v(t._s(t.$t("actions.settings")))]),n("base-button",{attrs:{onClick:t.clickStart}},[t._v(t._s(t.$t("actions.start")))])],1),t.started?n("div",{staticClass:"home__controls"},[t.paused?t._e():n("base-button",{attrs:{onClick:t.clickTogglePause,isGray:""}},[t._v("\n\t\t\t\t"+t._s(t.$t("actions.pause"))+"\n\t\t\t")]),t.paused?n("base-button",{attrs:{onClick:t.clickTogglePause}},[t._v("\n\t\t\t\t"+t._s(t.$t("actions.resume"))+"\n\t\t\t")]):t._e(),n("base-button",{attrs:{onClick:t.clickStop}},[t._v(t._s(t.$t("actions.stop")))])],1):t._e()],1)])},k=[],C=n("cebc"),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{class:t.className,on:{click:t.onClick}},[t._t("default")],2)},w=[],q={name:"BaseButton",computed:{className:function(t){var e=t.isGray;return{button:!0,"button--gray":e}}},props:{isGray:Boolean,onClick:{type:Function,required:!0}}},$=q,O=(n("bdd4"),n("2877")),x=Object(O["a"])($,g,w,!1,null,null,null),j=x.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"info"},[n("ul",{staticClass:"info__list"},[n("li",{staticClass:"info__item"},[t._v("\n\t\t\t"+t._s(t.$t("states.prepare"))+": "+t._s(t.prepare)+" "+t._s(t.$t("time_unit"))+"\n\t\t")]),n("li",{staticClass:"info__item"},[t._v("\n\t\t\t"+t._s(t.$t("states.rest"))+": "+t._s(t.rest)+" "+t._s(t.$t("time_unit"))+"\n\t\t")]),n("li",{staticClass:"info__item"},[t._v("\n\t\t\t"+t._s(t.$t("states.work"))+": "+t._s(t.work)+" "+t._s(t.$t("time_unit"))+"\n\t\t")]),n("li",{staticClass:"info__item"},[t._v(t._s(t.$t("settings.cycles"))+": "+t._s(t.cycles))])]),n("div",{staticClass:"info__total"},[t._v("\n\t\t"+t._s(t.$t("home.total_time"))+":\n\t\t"),n("div",{staticClass:"info__duration"},[t._v(t._s(t._f("formatTime")(t.total)))])])])},T=[],S=(n("c5f6"),{name:"HomeTimeInfo",props:{prepare:{type:Number,required:!0},rest:{type:Number,required:!0},work:{type:Number,required:!0},cycles:{type:Number,required:!0}},computed:{total:function(t){var e=t.prepare,n=t.rest,s=t.work,i=t.cycles;return e+n*i+s*i}}}),K=S,B=(n("2b7a"),Object(O["a"])(K,N,T,!1,null,null,null)),I=B.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"timer"},[n("div",{staticClass:"timer__title"},[t._v(t._s(t.$t(t.title)))]),n("div",{staticClass:"timer__remained"},[t._v(t._s(t._f("formatTime")(t.remained)))]),n("home-timer-cycles",{attrs:{keep:t.keepCycles,total:t.cycles}})],1)},E=[],H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cycles"},[n("div",{staticClass:"cycles__title"},[t._v(t._s(t.$t("home.cycles"))+":")]),n("span",{staticClass:"cycles__keep"},[t._v(t._s(t.keep))]),n("span",{staticClass:"cycles__total"},[t._v("/"+t._s(t.total))])])},M=[],D={name:"HomeTimerCycles",props:{keep:{type:Number,required:!0},total:{type:Number,required:!0}}},F=D,V=(n("ddd2"),Object(O["a"])(F,H,M,!1,null,null,null)),G=V.exports,Q={name:"HomeTimer",components:{HomeTimerCycles:G},props:{remained:{type:Number,required:!0},remainedCycles:{type:Number,required:!0},cycles:{type:Number,required:!0},rested:Boolean,worked:Boolean,paused:Boolean},computed:{keepCycles:function(t){var e=t.remainedCycles,n=t.cycles;return n-e},title:function(t){var e=t.paused,n=t.worked,s=t.rested;switch(!0){case e:return"states.pause";case n:return"states.work";case s:return"states.rest";default:return"states.prepare"}}}},R=Q,U=(n("b8e0"),Object(O["a"])(R,P,E,!1,null,null,null)),W=U.exports,J={name:"Home",components:{BaseButton:j,HomeTimeInfo:I,HomeTimer:W},data:function(){return{started:!1,paused:!1,rested:!1,worked:!1,remained:0,remainedCycles:0}},computed:Object(C["a"])({},Object(r["b"])({prepare:function(t){return t.prepare},rest:function(t){return t.rest},work:function(t){return t.work},cycles:function(t){return t.cycles}})),methods:{clickSettings:function(){this.started=!1,this.paused=!1,_t.push({name:v.settings})},clickStart:function(){this.started=!0,this.paused=!1,this.remained=this.prepare,this.remainedCycles=this.cycles,m=setInterval(this.changeTimer.bind(this),1e3)},clickStop:function(){this.started=!1,this.paused=!1,this.worked=!1,this.rested=!1,clearInterval(m)},clickTogglePause:function(){this.paused=!this.paused,this.paused?clearInterval(m):m=setInterval(this.changeTimer.bind(this),1e3)},changeTimer:function(){this.remained-=1,0===this.remained&&(this.worked?(this.remained=this.rest,this.rested=!0,this.worked=!1):(this.remained=this.work,this.remainedCycles-=1,this.rested=!1,this.worked=!0)),this.remainedCycles<0&&this.clickStop()}}},L=J,z=(n("cccb"),Object(O["a"])(L,b,k,!1,null,null,null)),A=z.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings"},[n("div",{staticClass:"settings__wrap"},[n("h1",{staticClass:"settings__title"},[t._v(t._s(t.$t("settings.title")))]),n("div",{staticClass:"settings__main"},[n("div",{staticClass:"settings__field"},[n("base-field-number",{attrs:{value:t.prepare},on:{input:t.updatePrepare}},[t._v("\n\t\t\t\t\t"+t._s(t.$t("states.prepare"))),n("span",{staticClass:"settings__note"},[t._v(", "+t._s(t.$t("time_unit")))])])],1),n("div",{staticClass:"settings__field"},[n("base-field-number",{attrs:{value:t.rest},on:{input:t.updateRest}},[t._v("\n\t\t\t\t\t"+t._s(t.$t("states.rest"))),n("span",{staticClass:"settings__note"},[t._v(", "+t._s(t.$t("time_unit")))])])],1),n("div",{staticClass:"settings__field"},[n("base-field-number",{attrs:{value:t.work},on:{input:t.updateWork}},[t._v("\n\t\t\t\t\t"+t._s(t.$t("states.work"))),n("span",{staticClass:"settings__note"},[t._v(", "+t._s(t.$t("time_unit")))])])],1),n("div",{staticClass:"settings__field"},[n("base-field-number",{attrs:{value:t.cycles},on:{input:t.updateCycles}},[t._v("\n\t\t\t\t\t"+t._s(t.$t("settings.cycles"))+"\n\t\t\t\t")])],1)]),n("div",{staticClass:"settings__controls"},[n("base-button",{attrs:{onClick:t.save}},[t._v(t._s(t.$t("actions.close")))])],1)])])},X=[],Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"field"},[n("span",{staticClass:"field__label"},[t._t("default")],2),n("base-input-number",{staticClass:"field__input",attrs:{min:1,step:1,maxlength:10,value:t.value},on:{input:t.onInput}})],1)},tt=[],et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.quantity,expression:"quantity",modifiers:{number:!0}}],attrs:{type:"number",maxlength:t.maxlength,autocomplete:"off"},domProps:{value:t.quantity},on:{keyup:t.onKeyup,keydown:t.onKeydown,blur:[t.onBlur,function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||(t.quantity=t._n(e.target.value))}}})},nt=[],st=(n("6b54"),{name:"BaseInputNumber",props:{value:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:1e11},step:{type:Number,default:1},maxlength:{type:Number,default:4}},data:function(t){var e=t.value;return{quantity:e,oldValue:e,isKeydown:!1}},model:{prop:"value",event:"input"},watch:{quantity:function(){this.evaluateQuantity()},min:function(t){this.quantity<t&&(this.quantity=t)},max:function(t){this.quantity>t&&(this.quantity=t)}},mounted:function(){this.emitChange(!0)},methods:{emitChange:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.oldValue=this.quantity,t&&(this.quantity=this.value<this.min?this.min:this.value),this.$emit("input",this.quantity,t)},increment:function(){this.quantity?this.quantity=this.quantity<this.max?this.quantity+this.step:this.max:this.quantity=this.min},decrement:function(){this.quantity?this.quantity=this.quantity>this.min?this.quantity-this.step:this.min:this.quantity=this.min},onBlur:function(){0!==this.quantity.toString().length?(this.quantity<this.min&&(this.quantity=this.min),this.quantity>this.max&&(this.quantity=this.max)):this.quantity=this.oldValue},evaluateQuantity:function(){this.isKeydown||this.quantity.toString().length>0&&this.quantity!==this.oldValue&&this.emitChange()},onKeyup:function(){this.isKeydown=!1,this.evaluateQuantity()},onKeydown:function(t){return this.isKeydown=!0,38===t.keyCode?(this.increment(),void t.preventDefault()):40===t.keyCode?(this.decrement(),void t.preventDefault()):void([46,8,9,27,13].indexOf(t.keyCode)>=0||65===t.keyCode&&(t.ctrlKey||t.metaKey)||67===t.keyCode&&(t.ctrlKey||t.metaKey)||82===t.keyCode&&(t.ctrlKey||t.metaKey)||88===t.keyCode&&(t.ctrlKey||t.metaKey)||t.keyCode>=35&&t.keyCode<=39||(110===t.keyCode||190===t.keyCode||(t.shiftKey||t.keyCode<48||t.keyCode>57)&&(t.keyCode<96||t.keyCode>105))&&t.preventDefault())}}}),it=st,at=Object(O["a"])(it,et,nt,!1,null,null,null),rt=at.exports,ot={name:"BaseFieldNumber",components:{BaseInputNumber:rt},methods:{onInput:function(t){this.$emit("input",t)}},props:{value:{type:Number,required:!0}}},ut=ot,ct=(n("9d73"),Object(O["a"])(ut,Y,tt,!1,null,null,null)),lt=ct.exports,dt={name:"Settings",components:{BaseButton:j,BaseFieldNumber:lt},computed:Object(C["a"])({},Object(r["b"])({prepare:function(t){return t.prepare},rest:function(t){return t.rest},work:function(t){return t.work},cycles:function(t){return t.cycles}})),methods:{save:function(){_t.push({name:v.home})},updatePrepare:function(t){this.$store.commit(o,t)},updateRest:function(t){this.$store.commit(u,t)},updateWork:function(t){this.$store.commit(c,t)},updateCycles:function(t){this.$store.commit(l,t)}}},pt=dt,mt=(n("3e4b"),Object(O["a"])(pt,Z,X,!1,null,null,null)),ft=mt.exports;i["a"].use(_["a"]);var ht=new _["a"]({mode:"history",base:"/tabata/",routes:[{path:"/",name:v.home,component:A},{path:"/settings/",name:v.settings,component:ft}]}),_t=ht,yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},vt=[],bt={name:"app"},kt=bt,Ct=(n("034f"),Object(O["a"])(kt,yt,vt,!1,null,null,null)),gt=Ct.exports,wt=(n("4917"),n("ac6a"),n("a925"));function qt(){var t=n("49f8"),e={};return t.keys().forEach(function(n){var s=n.match(/([A-Za-z0-9-_]+)\./i);if(s&&s.length>1){var i=s[1];e[i]=t(n)}}),e}i["a"].use(wt["a"]);var $t=new wt["a"]({locale:"ru",fallbackLocale:"ru",messages:qt()});function Ot(t){var e=Math.floor(t/60),n=Math.round(t-60*e),s=e<10?"0".concat(e):e,i=n<10?"0".concat(n):n;return[s,i].join(":")}i["a"].filter("formatTime",Ot),i["a"].config.productionTip=!1,new i["a"]({store:h,router:_t,i18n:$t,render:function(t){return t(gt)}}).$mount("#app")},"64a9":function(t,e,n){},"744b":function(t,e,n){},7704:function(t){t.exports={home:{total_time:"Общее время",cycles:"Раунды"},settings:{title:"Настройки",cycles:"Кругов"},states:{prepare:"Подготовка",rest:"Отдых",work:"Работа",pause:"Пауза"},actions:{close:"Закрыть",start:"Старт",pause:"Пауза",stop:"Стоп",settings:"Настройки",resume:"Продолжить"},time_unit:"сек."}},"9d73":function(t,e,n){"use strict";var s=n("744b"),i=n.n(s);i.a},acc7:function(t,e,n){},b8e0:function(t,e,n){"use strict";var s=n("bac5"),i=n.n(s);i.a},bac5:function(t,e,n){},bbfb:function(t,e,n){},bdd4:function(t,e,n){"use strict";var s=n("1183"),i=n.n(s);i.a},cccb:function(t,e,n){"use strict";var s=n("d563"),i=n.n(s);i.a},d563:function(t,e,n){},ddd2:function(t,e,n){"use strict";var s=n("2268"),i=n.n(s);i.a}});