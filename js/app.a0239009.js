(function(e){function t(t){for(var c,r,a=t[0],o=t[1],u=t[2],d=0,b=[];d<a.length;d++)r=a[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&b.push(s[r][0]),s[r]=0;for(c in o)Object.prototype.hasOwnProperty.call(o,c)&&(e[c]=o[c]);l&&l(t);while(b.length)b.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],c=!0,a=1;a<n.length;a++){var o=n[a];0!==s[o]&&(c=!1)}c&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var c={},s={app:0},i=[];function r(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=c,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)r.d(n,c,function(t){return e[t]}.bind(null,c));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/tabata/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=o;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"042c":function(e,t,n){},1118:function(e,t,n){},"52c6":function(e,t,n){},"55a6":function(e,t,n){"use strict";n("ae33")},"58cb":function(e,t,n){"use strict";n("1118")},"5af8":function(e,t,n){},"70c1":function(e,t,n){"use strict";n("52c6")},7704:function(e){e.exports=JSON.parse('{"home":{"total_time":"Общее время","cycles":"Раунды"},"settings":{"title":"Настройки","cycles":"Кругов"},"states":{"prepare":"Подготовка","rest":"Отдых","work":"Работа","pause":"Пауза"},"actions":{"close":"Закрыть","start":"Старт","pause":"Пауза","stop":"Стоп","settings":"Настройки","resume":"Продолжить"},"time_unit":"сек."}')},"8cad":function(e,t,n){"use strict";n("e081")},a02d:function(e,t,n){"use strict";n("5af8")},ae33:function(e,t,n){},b0bf:function(e,t,n){},bb60:function(e,t,n){"use strict";n("042c")},bd34:function(e,t,n){},cb4f:function(e,t,n){"use strict";n("b0bf")},cd49:function(e,t,n){"use strict";n.r(t);var c=n("7a23");const s={id:"app"};function i(e,t,n,i,r,a){const o=Object(c["x"])("router-view");return Object(c["s"])(),Object(c["e"])("div",s,[Object(c["h"])(o)])}n("d8fe");const r={};r.render=i;var a=r,o=n("ab42"),u=n("7704"),l=function(){return Object(o["a"])({locale:null!=Object({NODE_ENV:"production",BASE_URL:"/tabata/"}).VUE_APP_I18N_LOCALE?Object({NODE_ENV:"production",BASE_URL:"/tabata/"}).VUE_APP_I18N_LOCALE:"ru",fallbackLocale:null!=Object({NODE_ENV:"production",BASE_URL:"/tabata/"}).VUE_APP_I18N_FALLBACK_LOCALE?Object({NODE_ENV:"production",BASE_URL:"/tabata/"}).VUE_APP_I18N_FALLBACK_LOCALE:"ru",messages:{ru:u}})}(),d=n("6c02");const b={class:"home__wrap"},m={key:2,class:"home__controls"},p={key:3,class:"home__controls"};function h(e,t,n,s,i,r){const a=Object(c["x"])("home-time-info"),o=Object(c["x"])("home-timer"),u=Object(c["x"])("base-button");return Object(c["s"])(),Object(c["e"])("div",{class:e.classes},[Object(c["h"])("div",b,[e.started?Object(c["f"])("",!0):(Object(c["s"])(),Object(c["e"])(a,{key:0,prepare:e.prepare,rest:e.rest,work:e.work,cycles:e.cycles},null,8,["prepare","rest","work","cycles"])),e.started?(Object(c["s"])(),Object(c["e"])(o,{key:1,remained:e.remained,"remained-cycles":e.remainedCycles,cycles:e.cycles,worked:e.worked,rested:e.rested,paused:e.paused},null,8,["remained","remained-cycles","cycles","worked","rested","paused"])):Object(c["f"])("",!0),e.started?Object(c["f"])("",!0):(Object(c["s"])(),Object(c["e"])("div",m,[Object(c["h"])(u,{"on-click":e.clickSettings},{default:Object(c["E"])(()=>[Object(c["g"])(Object(c["z"])(e.$t("actions.settings")),1)]),_:1},8,["on-click"]),Object(c["h"])(u,{"on-click":e.clickStart},{default:Object(c["E"])(()=>[Object(c["g"])(Object(c["z"])(e.$t("actions.start")),1)]),_:1},8,["on-click"])])),e.started?(Object(c["s"])(),Object(c["e"])("div",p,[e.paused?Object(c["f"])("",!0):(Object(c["s"])(),Object(c["e"])(u,{key:0,"on-click":e.clickTogglePause,"is-gray":""},{default:Object(c["E"])(()=>[Object(c["g"])(Object(c["z"])(e.$t("actions.pause")),1)]),_:1},8,["on-click"])),e.paused?(Object(c["s"])(),Object(c["e"])(u,{key:1,"on-click":e.clickTogglePause},{default:Object(c["E"])(()=>[Object(c["g"])(Object(c["z"])(e.$t("actions.resume")),1)]),_:1},8,["on-click"])):Object(c["f"])("",!0),Object(c["h"])(u,{"on-click":e.clickStop},{default:Object(c["E"])(()=>[Object(c["g"])(Object(c["z"])(e.$t("actions.stop")),1)]),_:1},8,["on-click"])])):Object(c["f"])("",!0)])],2)}var O=n("9ab4"),j=n("5502");function f(e,t,n,s,i,r){return Object(c["s"])(),Object(c["e"])("button",{class:e.classes,onClick:t[1]||(t[1]=(...t)=>e.handleClick(...t))},[Object(c["w"])(e.$slots,"default")],2)}var y=Object(c["i"])({name:"BaseButton",props:{isGray:{type:Boolean,default:!1}},emits:["click"],setup:function(e,t){var n=t.emit,s=Object(c["c"])((function(){return{button:!0,button_gray:e.isGray}})),i=function(){return n("click")};return{classes:s,handleClick:i}}});n("a02d");y.render=f;var _=y;const k={class:"info"},v={class:"info__list"},g={class:"info__item"},w={class:"info__item"},C={class:"info__item"},q={class:"info__item"},V={class:"info__total"},N={class:"info__duration"};function z(e,t,n,s,i,r){return Object(c["s"])(),Object(c["e"])("div",k,[Object(c["h"])("ul",v,[Object(c["h"])("li",g,Object(c["z"])(e.i18n.t("states.prepare"))+": "+Object(c["z"])(e.prepare)+" "+Object(c["z"])(e.i18n.t("time_unit")),1),Object(c["h"])("li",w,Object(c["z"])(e.i18n.t("states.rest"))+": "+Object(c["z"])(e.rest)+" "+Object(c["z"])(e.i18n.t("time_unit")),1),Object(c["h"])("li",C,Object(c["z"])(e.i18n.t("states.work"))+": "+Object(c["z"])(e.work)+" "+Object(c["z"])(e.i18n.t("time_unit")),1),Object(c["h"])("li",q,Object(c["z"])(e.i18n.t("settings.cycles"))+": "+Object(c["z"])(e.cycles),1)]),Object(c["h"])("div",V,[Object(c["g"])(Object(c["z"])(e.i18n.t("home.total_time"))+": ",1),Object(c["h"])("div",N,Object(c["z"])(e.totalFormatTime),1)])])}function E(e){var t=Math.floor(e/60),n=Math.round(e-60*t),c=t<10?"0"+t:t,s=n<10?"0"+n:n;return[c,s].join(":")}var S=Object(c["i"])({name:"HomeTimeInfo",props:{prepare:{type:Number,required:!0},rest:{type:Number,required:!0},work:{type:Number,required:!0},cycles:{type:Number,required:!0}},setup:function(e){var t=Object(o["b"])(),n=Object(c["c"])((function(){return e.prepare+e.rest*e.cycles+e.work*e.cycles})),s=Object(c["c"])((function(){return E(n.value)}));return{i18n:t,total:n,totalFormatTime:s}}});n("58cb");S.render=z;var x=S;const B={class:"timer"},I={class:"timer__title"},K={class:"timer__remained"};function P(e,t,n,s,i,r){const a=Object(c["x"])("home-timer-cycles");return Object(c["s"])(),Object(c["e"])("div",B,[Object(c["h"])("div",I,Object(c["z"])(e.title),1),Object(c["h"])("div",K,Object(c["z"])(e.remainedFormatTime),1),Object(c["h"])(a,{keep:e.keepCycles,total:e.cycles},null,8,["keep","total"])])}const T={class:"cycles"},$={class:"cycles__title"},L={class:"cycles__keep"},A={class:"cycles__total"};function U(e,t,n,s,i,r){return Object(c["s"])(),Object(c["e"])("div",T,[Object(c["h"])("div",$,Object(c["z"])(e.title)+":",1),Object(c["h"])("span",L,Object(c["z"])(e.keep),1),Object(c["h"])("span",A,"/"+Object(c["z"])(e.total),1)])}var D=Object(c["i"])({name:"HomeTimerCycles",props:{keep:{type:Number,required:!0},total:{type:Number,required:!0}},setup:function(){var e=Object(o["b"])(),t=e.t("home.cycles");return{title:t}}});n("55a6");D.render=U;var F=D,H=Object(c["i"])({name:"HomeTimer",components:{HomeTimerCycles:F},props:{remained:{type:Number,required:!0},remainedCycles:{type:Number,required:!0},cycles:{type:Number,required:!0},rested:{type:Boolean,default:!1},worked:{type:Boolean,default:!1},paused:{type:Boolean,default:!1}},setup:function(e){var t=Object(o["b"])(),n=Object(c["c"])((function(){return e.cycles-e.remainedCycles})),s=Object(c["c"])((function(){return E(e.remained)})),i=Object(c["c"])((function(){switch(!0){case e.paused:return t.t("states.pause");case e.worked:return t.t("states.work");case e.rested:return t.t("states.rest");default:return t.t("states.prepare")}}));return{keepCycles:n,remainedFormatTime:s,title:i}}});n("cb4f");H.render=P;var M=H,R={home:"home",settings:"settings"},J=Object(c["i"])({name:"Home",components:{BaseButton:_,HomeTimeInfo:x,HomeTimer:M},data:function(){return{started:!1,paused:!1,rested:!1,worked:!1,remained:0,remainedCycles:0,intervalID:0}},computed:Object(O["a"])(Object(O["a"])({},Object(j["b"])(["prepare","rest","work","cycles"])),{classes:function(){return{home:!0,home_start:this.started||this.paused,home_work:this.started&&!this.paused&&this.worked,home_rest:this.started&&!this.paused&&this.rested}}}),methods:{clickSettings:function(){this.started=!1,this.paused=!1,this.$router.push({name:R.settings})},clickStart:function(){this.started=!0,this.paused=!1,this.remained=this.prepare,this.remainedCycles=this.cycles,this.intervalID=setInterval(this.changeTimer.bind(this),1e3)},clickStop:function(){this.started=!1,this.paused=!1,this.worked=!1,this.rested=!1,clearInterval(this.intervalID)},clickTogglePause:function(){this.paused=!this.paused,this.paused?clearInterval(this.intervalID):this.intervalID=setInterval(this.changeTimer.bind(this),1e3)},changeTimer:function(){this.remained-=1,0===this.remained&&(this.worked?(this.remained=this.rest,this.rested=!0,this.worked=!1):(this.remained=this.work,this.remainedCycles-=1,this.rested=!1,this.worked=!0)),this.remainedCycles<0&&this.clickStop()}}});n("bb60");J.render=h;var Q=J;const G={class:"settings"},W={class:"settings__wrap"},X={class:"settings__title"},Y={class:"settings__main"},Z={class:"settings__field"},ee={class:"settings__note"},te={class:"settings__field"},ne={class:"settings__note"},ce={class:"settings__field"},se={class:"settings__note"},ie={class:"settings__field"},re={class:"settings__controls"};function ae(e,t,n,s,i,r){const a=Object(c["x"])("base-field-number"),o=Object(c["x"])("base-button");return Object(c["s"])(),Object(c["e"])("div",G,[Object(c["h"])("div",W,[Object(c["h"])("h1",X,Object(c["z"])(e.$t("settings.title")),1),Object(c["h"])("div",Y,[Object(c["h"])("div",Z,[Object(c["h"])(a,{modelValue:e.prepare,"onUpdate:modelValue":t[1]||(t[1]=t=>e.prepare=t)},{default:Object(c["E"])(()=>[Object(c["g"])(Object(c["z"])(e.$t("states.prepare")),1),Object(c["h"])("span",ee,", "+Object(c["z"])(e.$t("time_unit")),1)]),_:1},8,["modelValue"])]),Object(c["h"])("div",te,[Object(c["h"])(a,{modelValue:e.rest,"onUpdate:modelValue":t[2]||(t[2]=t=>e.rest=t)},{default:Object(c["E"])(()=>[Object(c["g"])(Object(c["z"])(e.$t("states.rest")),1),Object(c["h"])("span",ne,", "+Object(c["z"])(e.$t("time_unit")),1)]),_:1},8,["modelValue"])]),Object(c["h"])("div",ce,[Object(c["h"])(a,{modelValue:e.work,"onUpdate:modelValue":t[3]||(t[3]=t=>e.work=t)},{default:Object(c["E"])(()=>[Object(c["g"])(Object(c["z"])(e.$t("states.work")),1),Object(c["h"])("span",se,", "+Object(c["z"])(e.$t("time_unit")),1)]),_:1},8,["modelValue"])]),Object(c["h"])("div",ie,[Object(c["h"])(a,{modelValue:e.cycles,"onUpdate:modelValue":t[4]||(t[4]=t=>e.cycles=t)},{default:Object(c["E"])(()=>[Object(c["g"])(Object(c["z"])(e.$t("settings.cycles")),1)]),_:1},8,["modelValue"])])]),Object(c["h"])("div",re,[Object(c["h"])(o,{onClick:e.handleSave},{default:Object(c["E"])(()=>[Object(c["g"])(Object(c["z"])(e.$t("actions.close")),1)]),_:1},8,["onClick"])])])])}const oe={class:"field"},ue={class:"field__label"};function le(e,t,n,s,i,r){const a=Object(c["x"])("base-input-number");return Object(c["s"])(),Object(c["e"])("label",oe,[Object(c["h"])("span",ue,[Object(c["w"])(e.$slots,"default")]),Object(c["h"])(a,{modelValue:e.value,"onUpdate:modelValue":t[1]||(t[1]=t=>e.value=t),min:1,step:1,maxlength:10,class:"field__input"},null,8,["modelValue"])])}function de(e,t,n,s,i,r){return Object(c["F"])((Object(c["s"])(),Object(c["e"])("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.quantity=t),type:"number",maxlength:e.maxlength,autocomplete:"off",onKeyup:t[2]||(t[2]=(...t)=>e.handleKeyup(...t)),onKeydown:t[3]||(t[3]=(...t)=>e.handleKeydown(...t)),onBlur:t[4]||(t[4]=(...t)=>e.handleBlur(...t))},null,40,["maxlength"])),[[c["B"],e.quantity,void 0,{number:!0}]])}var be=Object(c["i"])({name:"BaseInputNumber",props:{modelValue:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:1e11},step:{type:Number,default:1},maxlength:{type:Number,default:4}},emits:["update:modelValue"],data:function(e){var t=e.modelValue;return{quantity:t,oldValue:t,isKeydown:!1}},watch:{quantity:function(){this.evaluateQuantity()},min:function(e){this.quantity<e&&(this.quantity=e)},max:function(e){this.quantity>e&&(this.quantity=e)}},mounted:function(){this.emitChange(!0)},methods:{emitChange:function(e){void 0===e&&(e=!1),this.oldValue=this.quantity,e&&(this.quantity=this.modelValue<this.min?this.min:this.modelValue),this.$emit("update:modelValue",this.quantity)},increment:function(){this.quantity?this.quantity=this.quantity<this.max?this.quantity+this.step:this.max:this.quantity=this.min},decrement:function(){this.quantity?this.quantity=this.quantity>this.min?this.quantity-this.step:this.min:this.quantity=this.min},evaluateQuantity:function(){this.isKeydown||this.quantity.toString().length>0&&this.quantity!==this.oldValue&&this.emitChange()},handleBlur:function(){0!==this.quantity.toString().length?(this.quantity<this.min&&(this.quantity=this.min),this.quantity>this.max&&(this.quantity=this.max)):this.quantity=this.oldValue},handleKeyup:function(){this.isKeydown=!1,this.evaluateQuantity()},handleKeydown:function(e){return this.isKeydown=!0,38===e.keyCode?(this.increment(),void e.preventDefault()):40===e.keyCode?(this.decrement(),void e.preventDefault()):void([46,8,9,27,13].includes(e.keyCode)||65===e.keyCode&&(e.ctrlKey||e.metaKey)||67===e.keyCode&&(e.ctrlKey||e.metaKey)||82===e.keyCode&&(e.ctrlKey||e.metaKey)||88===e.keyCode&&(e.ctrlKey||e.metaKey)||e.keyCode>=35&&e.keyCode<=39||(110===e.keyCode||190===e.keyCode||(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105))&&e.preventDefault())}}});be.render=de;var me=be,pe=Object(c["i"])({name:"BaseFieldNumber",components:{BaseInputNumber:me},props:{modelValue:{type:Number,default:0}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,s=Object(c["c"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}});return{value:s}}});n("70c1");pe.render=le;var he=pe,Oe="changePrepare",je="changeRest",fe="changeWork",ye="changeCycles",_e=Object(c["i"])({name:"Settings",components:{BaseButton:_,BaseFieldNumber:he},setup:function(){var e=Object(j["c"])(),t=Object(d["c"])(),n=Object(c["c"])({get:function(){return e.state.prepare},set:function(t){return e.commit(Oe,t)}}),s=Object(c["c"])({get:function(){return e.state.rest},set:function(t){return e.commit(je,t)}}),i=Object(c["c"])({get:function(){return e.state.work},set:function(t){return e.commit(fe,t)}}),r=Object(c["c"])({get:function(){return e.state.cycles},set:function(t){return e.commit(ye,t)}}),a=function(){return t.push({name:R.home})};return{prepare:n,rest:s,work:i,cycles:r,handleSave:a}}});n("8cad");_e.render=ae;var ke,ve=_e,ge=Object(d["a"])({history:Object(d["b"])("/tabata/"),routes:[{path:"/",name:R.home,component:Q},{path:"/settings/",name:R.settings,component:ve}]});function we(e){return localStorage.getItem(e)}function Ce(e,t){localStorage.setItem(e,t)}var qe={prepare:"prepare",rest:"rest",work:"work",cycles:"cycles"},Ve=Object(j["a"])({state:function(){var e=we(qe.prepare),t=we(qe.rest),n=we(qe.work),c=we(qe.cycles);return{prepare:null!==e?Number.parseInt(e,10):10,rest:null!==t?Number.parseInt(t,10):30,work:null!==n?Number.parseInt(n,10):30,cycles:null!==c?Number.parseInt(c,10):8}},mutations:(ke={},ke[Oe]=function(e,t){e.prepare=t,Ce(qe.prepare,t.toString())},ke[je]=function(e,t){e.rest=t,Ce(qe.rest,t.toString())},ke[fe]=function(e,t){e.work=t,Ce(qe.work,t.toString())},ke[ye]=function(e,t){e.cycles=t,Ce(qe.cycles,t.toString())},ke)});n("f95d");Object(c["d"])(a).use(l).use(ge).use(Ve).mount("#app")},d8fe:function(e,t,n){"use strict";n("bd34")},e081:function(e,t,n){},f95d:function(e,t,n){}});