(function(e){function t(t){for(var s,r,a=t[0],o=t[1],u=t[2],d=0,b=[];d<a.length;d++)r=a[d],Object.prototype.hasOwnProperty.call(c,r)&&c[r]&&b.push(c[r][0]),c[r]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);l&&l(t);while(b.length)b.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],s=!0,a=1;a<n.length;a++){var o=n[a];0!==c[o]&&(s=!1)}s&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var s={},c={app:0},i=[];function r(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=s,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/tabata/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=o;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"042c":function(e,t,n){},1118:function(e,t,n){},"52c6":function(e,t,n){},"55a6":function(e,t,n){"use strict";n("ae33")},"58cb":function(e,t,n){"use strict";n("1118")},"5af8":function(e,t,n){},"70c1":function(e,t,n){"use strict";n("52c6")},7704:function(e){e.exports=JSON.parse('{"home":{"total_time":"Общее время","cycles":"Раунды"},"settings":{"title":"Настройки","cycles":"Кругов"},"states":{"prepare":"Подготовка","rest":"Отдых","work":"Работа","pause":"Пауза"},"actions":{"close":"Закрыть","start":"Старт","pause":"Пауза","stop":"Стоп","settings":"Настройки","resume":"Продолжить"},"time_unit":"сек."}')},"8cad":function(e,t,n){"use strict";n("e081")},a02d:function(e,t,n){"use strict";n("5af8")},ae33:function(e,t,n){},b0bf:function(e,t,n){},bb60:function(e,t,n){"use strict";n("042c")},bd34:function(e,t,n){},cb4f:function(e,t,n){"use strict";n("b0bf")},cd49:function(e,t,n){"use strict";n.r(t);var s=n("7a23");const c={id:"app"};function i(e,t,n,i,r,a){const o=Object(s["x"])("router-view");return Object(s["s"])(),Object(s["e"])("div",c,[Object(s["h"])(o)])}n("d8fe");const r={};r.render=i;var a=r,o=n("5502");function u(e){return localStorage.getItem(e)}function l(e,t){localStorage.setItem(e,t)}var d,b="changePrepare",m="changeRest",h="changeWork",p="changeCycles",O={prepare:"prepare",rest:"rest",work:"work",cycles:"cycles"},f=Object(o["a"])({state:function(){var e=u(O.prepare),t=u(O.rest),n=u(O.work),s=u(O.cycles);return{prepare:null!==e?parseInt(e,10):10,rest:null!==t?parseInt(t,10):30,work:null!==n?parseInt(n,10):30,cycles:null!==s?parseInt(s,10):8}},mutations:(d={},d[b]=function(e,t){e.prepare=t,l(O.prepare,t.toString())},d[m]=function(e,t){e.rest=t,l(O.rest,t.toString())},d[h]=function(e,t){e.work=t,l(O.work,t.toString())},d[p]=function(e,t){e.cycles=t,l(O.cycles,t.toString())},d)}),j=n("6c02"),y={home:"home",settings:"settings"};const _={class:"home__wrap"},k={key:2,class:"home__controls"},v={key:3,class:"home__controls"};function g(e,t,n,c,i,r){const a=Object(s["x"])("home-time-info"),o=Object(s["x"])("home-timer"),u=Object(s["x"])("base-button");return Object(s["s"])(),Object(s["e"])("div",{class:e.classes},[Object(s["h"])("div",_,[e.started?Object(s["f"])("",!0):(Object(s["s"])(),Object(s["e"])(a,{key:0,prepare:e.prepare,rest:e.rest,work:e.work,cycles:e.cycles},null,8,["prepare","rest","work","cycles"])),e.started?(Object(s["s"])(),Object(s["e"])(o,{key:1,remained:e.remained,remainedCycles:e.remainedCycles,cycles:e.cycles,worked:e.worked,rested:e.rested,paused:e.paused},null,8,["remained","remainedCycles","cycles","worked","rested","paused"])):Object(s["f"])("",!0),e.started?Object(s["f"])("",!0):(Object(s["s"])(),Object(s["e"])("div",k,[Object(s["h"])(u,{onClick:e.clickSettings},{default:Object(s["E"])(()=>[Object(s["g"])(Object(s["z"])(e.$t("actions.settings")),1)]),_:1},8,["onClick"]),Object(s["h"])(u,{onClick:e.clickStart},{default:Object(s["E"])(()=>[Object(s["g"])(Object(s["z"])(e.$t("actions.start")),1)]),_:1},8,["onClick"])])),e.started?(Object(s["s"])(),Object(s["e"])("div",v,[e.paused?Object(s["f"])("",!0):(Object(s["s"])(),Object(s["e"])(u,{key:0,onClick:e.clickTogglePause,isGray:""},{default:Object(s["E"])(()=>[Object(s["g"])(Object(s["z"])(e.$t("actions.pause")),1)]),_:1},8,["onClick"])),e.paused?(Object(s["s"])(),Object(s["e"])(u,{key:1,onClick:e.clickTogglePause},{default:Object(s["E"])(()=>[Object(s["g"])(Object(s["z"])(e.$t("actions.resume")),1)]),_:1},8,["onClick"])):Object(s["f"])("",!0),Object(s["h"])(u,{onClick:e.clickStop},{default:Object(s["E"])(()=>[Object(s["g"])(Object(s["z"])(e.$t("actions.stop")),1)]),_:1},8,["onClick"])])):Object(s["f"])("",!0)])],2)}var w=n("9ab4");function C(e,t,n,c,i,r){return Object(s["s"])(),Object(s["e"])("button",{class:e.classes,onClick:t[1]||(t[1]=(...t)=>e.handleClick(...t))},[Object(s["w"])(e.$slots,"default")],2)}var q=Object(s["i"])({name:"BaseButton",props:{isGray:{type:Boolean,default:!1}},setup:function(e,t){var n=t.emit,c=Object(s["c"])((function(){return{button:!0,button_gray:e.isGray}})),i=function(){return n("click")};return{classes:c,handleClick:i}}});n("a02d");q.render=C;var z=q;const V={class:"info"},x={class:"info__list"},N={class:"info__item"},S={class:"info__item"},B={class:"info__item"},I={class:"info__item"},E={class:"info__total"},K={class:"info__duration"};function T(e,t,n,c,i,r){return Object(s["s"])(),Object(s["e"])("div",V,[Object(s["h"])("ul",x,[Object(s["h"])("li",N,Object(s["z"])(e.i18n.t("states.prepare"))+": "+Object(s["z"])(e.prepare)+" "+Object(s["z"])(e.i18n.t("time_unit")),1),Object(s["h"])("li",S,Object(s["z"])(e.i18n.t("states.rest"))+": "+Object(s["z"])(e.rest)+" "+Object(s["z"])(e.i18n.t("time_unit")),1),Object(s["h"])("li",B,Object(s["z"])(e.i18n.t("states.work"))+": "+Object(s["z"])(e.work)+" "+Object(s["z"])(e.i18n.t("time_unit")),1),Object(s["h"])("li",I,Object(s["z"])(e.i18n.t("settings.cycles"))+": "+Object(s["z"])(e.cycles),1)]),Object(s["h"])("div",E,[Object(s["g"])(Object(s["z"])(e.i18n.t("home.total_time"))+": ",1),Object(s["h"])("div",K,Object(s["z"])(e.totalFormatTime),1)])])}var $=n("ab42");function P(e){var t=Math.floor(e/60),n=Math.round(e-60*t),s=t<10?"0"+t:t,c=n<10?"0"+n:n;return[s,c].join(":")}var D=Object(s["i"])({name:"HomeTimeInfo",props:{prepare:{type:Number,required:!0},rest:{type:Number,required:!0},work:{type:Number,required:!0},cycles:{type:Number,required:!0}},setup:function(e){var t=Object($["b"])(),n=Object(s["c"])((function(){return e.prepare+e.rest*e.cycles+e.work*e.cycles})),c=Object(s["c"])((function(){return P(n.value)}));return{i18n:t,total:n,totalFormatTime:c}}});n("58cb");D.render=T;var U=D;const L={class:"timer"},A={class:"timer__title"},F={class:"timer__remained"};function H(e,t,n,c,i,r){const a=Object(s["x"])("home-timer-cycles");return Object(s["s"])(),Object(s["e"])("div",L,[Object(s["h"])("div",A,Object(s["z"])(e.title),1),Object(s["h"])("div",F,Object(s["z"])(e.remainedFormatTime),1),Object(s["h"])(a,{keep:e.keepCycles,total:e.cycles},null,8,["keep","total"])])}const M={class:"cycles"},G={class:"cycles__title"},J={class:"cycles__keep"},Q={class:"cycles__total"};function R(e,t,n,c,i,r){return Object(s["s"])(),Object(s["e"])("div",M,[Object(s["h"])("div",G,Object(s["z"])(e.title)+":",1),Object(s["h"])("span",J,Object(s["z"])(e.keep),1),Object(s["h"])("span",Q,"/"+Object(s["z"])(e.total),1)])}var W=Object(s["i"])({name:"HomeTimerCycles",props:{keep:{type:Number,required:!0},total:{type:Number,required:!0}},setup:function(){var e=Object($["b"])(),t=e.t("home.cycles");return{title:t}}});n("55a6");W.render=R;var X=W,Y=Object(s["i"])({name:"HomeTimer",components:{HomeTimerCycles:X},props:{remained:{type:Number,required:!0},remainedCycles:{type:Number,required:!0},cycles:{type:Number,required:!0},rested:{type:Boolean,default:!1},worked:{type:Boolean,default:!1},paused:{type:Boolean,default:!1}},setup:function(e){var t=Object($["b"])(),n=Object(s["c"])((function(){return e.cycles-e.remainedCycles})),c=Object(s["c"])((function(){return P(e.remained)})),i=Object(s["c"])((function(){switch(!0){case e.paused:return t.t("states.pause");case e.worked:return t.t("states.work");case e.rested:return t.t("states.rest");default:return t.t("states.prepare")}}));return{keepCycles:n,remainedFormatTime:c,title:i}}});n("cb4f");Y.render=H;var Z=Y,ee=Object(s["i"])({name:"Home",components:{BaseButton:z,HomeTimeInfo:U,HomeTimer:Z},data:function(){return{started:!1,paused:!1,rested:!1,worked:!1,remained:0,remainedCycles:0,intervalID:0}},computed:Object(w["a"])(Object(w["a"])({},Object(o["b"])(["prepare","rest","work","cycles"])),{classes:function(){return{home:!0,home_start:this.started||this.paused,home_work:this.started&&!this.paused&&this.worked,home_rest:this.started&&!this.paused&&this.rested}}}),methods:{clickSettings:function(){this.started=!1,this.paused=!1,this.$router.push({name:y.settings})},clickStart:function(){this.started=!0,this.paused=!1,this.remained=this.prepare,this.remainedCycles=this.cycles,this.intervalID=setInterval(this.changeTimer.bind(this),1e3)},clickStop:function(){this.started=!1,this.paused=!1,this.worked=!1,this.rested=!1,clearInterval(this.intervalID)},clickTogglePause:function(){this.paused=!this.paused,this.paused?clearInterval(this.intervalID):this.intervalID=setInterval(this.changeTimer.bind(this),1e3)},changeTimer:function(){this.remained-=1,0===this.remained&&(this.worked?(this.remained=this.rest,this.rested=!0,this.worked=!1):(this.remained=this.work,this.remainedCycles-=1,this.rested=!1,this.worked=!0)),this.remainedCycles<0&&this.clickStop()}}});n("bb60");ee.render=g;var te=ee;const ne={class:"settings"},se={class:"settings__wrap"},ce={class:"settings__title"},ie={class:"settings__main"},re={class:"settings__field"},ae={class:"settings__note"},oe={class:"settings__field"},ue={class:"settings__note"},le={class:"settings__field"},de={class:"settings__note"},be={class:"settings__field"},me={class:"settings__controls"};function he(e,t,n,c,i,r){const a=Object(s["x"])("base-field-number"),o=Object(s["x"])("base-button");return Object(s["s"])(),Object(s["e"])("div",ne,[Object(s["h"])("div",se,[Object(s["h"])("h1",ce,Object(s["z"])(e.$t("settings.title")),1),Object(s["h"])("div",ie,[Object(s["h"])("div",re,[Object(s["h"])(a,{modelValue:e.prepare,"onUpdate:modelValue":t[1]||(t[1]=t=>e.prepare=t)},{default:Object(s["E"])(()=>[Object(s["g"])(Object(s["z"])(e.$t("states.prepare")),1),Object(s["h"])("span",ae,", "+Object(s["z"])(e.$t("time_unit")),1)]),_:1},8,["modelValue"])]),Object(s["h"])("div",oe,[Object(s["h"])(a,{modelValue:e.rest,"onUpdate:modelValue":t[2]||(t[2]=t=>e.rest=t)},{default:Object(s["E"])(()=>[Object(s["g"])(Object(s["z"])(e.$t("states.rest")),1),Object(s["h"])("span",ue,", "+Object(s["z"])(e.$t("time_unit")),1)]),_:1},8,["modelValue"])]),Object(s["h"])("div",le,[Object(s["h"])(a,{modelValue:e.work,"onUpdate:modelValue":t[3]||(t[3]=t=>e.work=t)},{default:Object(s["E"])(()=>[Object(s["g"])(Object(s["z"])(e.$t("states.work")),1),Object(s["h"])("span",de,", "+Object(s["z"])(e.$t("time_unit")),1)]),_:1},8,["modelValue"])]),Object(s["h"])("div",be,[Object(s["h"])(a,{modelValue:e.cycles,"onUpdate:modelValue":t[4]||(t[4]=t=>e.cycles=t)},{default:Object(s["E"])(()=>[Object(s["g"])(Object(s["z"])(e.$t("settings.cycles")),1)]),_:1},8,["modelValue"])])]),Object(s["h"])("div",me,[Object(s["h"])(o,{onClick:e.handleSave},{default:Object(s["E"])(()=>[Object(s["g"])(Object(s["z"])(e.$t("actions.close")),1)]),_:1},8,["onClick"])])])])}const pe={class:"field"},Oe={class:"field__label"};function fe(e,t,n,c,i,r){const a=Object(s["x"])("base-input-number");return Object(s["s"])(),Object(s["e"])("label",pe,[Object(s["h"])("span",Oe,[Object(s["w"])(e.$slots,"default")]),Object(s["h"])(a,{modelValue:e.value,"onUpdate:modelValue":t[1]||(t[1]=t=>e.value=t),min:1,step:1,maxlength:10,class:"field__input"},null,8,["modelValue"])])}function je(e,t,n,c,i,r){return Object(s["F"])((Object(s["s"])(),Object(s["e"])("input",{type:"number",maxlength:e.maxlength,autocomplete:"off","onUpdate:modelValue":t[1]||(t[1]=t=>e.quantity=t),onKeyup:t[2]||(t[2]=(...t)=>e.handleKeyup(...t)),onKeydown:t[3]||(t[3]=(...t)=>e.handleKeydown(...t)),onBlur:t[4]||(t[4]=(...t)=>e.handleBlur(...t))},null,40,["maxlength"])),[[s["B"],e.quantity,void 0,{number:!0}]])}var ye=Object(s["i"])({name:"BaseInputNumber",props:{modelValue:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:1e11},step:{type:Number,default:1},maxlength:{type:Number,default:4}},data:function(e){var t=e.modelValue;return{quantity:t,oldValue:t,isKeydown:!1}},watch:{quantity:function(){this.evaluateQuantity()},min:function(e){this.quantity<e&&(this.quantity=e)},max:function(e){this.quantity>e&&(this.quantity=e)}},mounted:function(){this.emitChange(!0)},methods:{emitChange:function(e){void 0===e&&(e=!1),this.oldValue=this.quantity,e&&(this.quantity=this.modelValue<this.min?this.min:this.modelValue),this.$emit("update:modelValue",this.quantity)},increment:function(){this.quantity?this.quantity=this.quantity<this.max?this.quantity+this.step:this.max:this.quantity=this.min},decrement:function(){this.quantity?this.quantity=this.quantity>this.min?this.quantity-this.step:this.min:this.quantity=this.min},evaluateQuantity:function(){this.isKeydown||this.quantity.toString().length>0&&this.quantity!==this.oldValue&&this.emitChange()},handleBlur:function(){0!==this.quantity.toString().length?(this.quantity<this.min&&(this.quantity=this.min),this.quantity>this.max&&(this.quantity=this.max)):this.quantity=this.oldValue},handleKeyup:function(){this.isKeydown=!1,this.evaluateQuantity()},handleKeydown:function(e){return this.isKeydown=!0,38===e.keyCode?(this.increment(),void e.preventDefault()):40===e.keyCode?(this.decrement(),void e.preventDefault()):void([46,8,9,27,13].indexOf(e.keyCode)>=0||65===e.keyCode&&(e.ctrlKey||e.metaKey)||67===e.keyCode&&(e.ctrlKey||e.metaKey)||82===e.keyCode&&(e.ctrlKey||e.metaKey)||88===e.keyCode&&(e.ctrlKey||e.metaKey)||e.keyCode>=35&&e.keyCode<=39||(110===e.keyCode||190===e.keyCode||(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105))&&e.preventDefault())}}});ye.render=je;var _e=ye,ke=Object(s["i"])({name:"BaseFieldNumber",components:{BaseInputNumber:_e},props:{modelValue:{type:Number,default:0}},setup:function(e,t){var n=t.emit,c=Object(s["c"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}});return{value:c}}});n("70c1");ke.render=fe;var ve=ke,ge=Object(s["i"])({name:"Settings",components:{BaseButton:z,BaseFieldNumber:ve},setup:function(){var e=Object(o["c"])(),t=Object(j["c"])(),n=Object(s["c"])({get:function(){return e.state.prepare},set:function(t){return e.commit(b,t)}}),c=Object(s["c"])({get:function(){return e.state.rest},set:function(t){return e.commit(m,t)}}),i=Object(s["c"])({get:function(){return e.state.work},set:function(t){return e.commit(h,t)}}),r=Object(s["c"])({get:function(){return e.state.cycles},set:function(t){return e.commit(p,t)}}),a=function(){return t.push({name:y.home})};return{prepare:n,rest:c,work:i,cycles:r,handleSave:a}}});n("8cad");ge.render=he;var we=ge,Ce=Object(j["a"])({history:Object(j["b"])("/tabata/"),routes:[{path:"/",name:y.home,component:te},{path:"/settings/",name:y.settings,component:we}]}),qe=n("7704"),ze=Object($["a"])({locale:Object({NODE_ENV:"production",BASE_URL:"/tabata/"}).VUE_APP_I18N_LOCALE||"ru",fallbackLocale:Object({NODE_ENV:"production",BASE_URL:"/tabata/"}).VUE_APP_I18N_FALLBACK_LOCALE||"ru",messages:{ru:qe}});n("f95d");Object(s["d"])(a).use(ze).use(Ce).use(f).mount("#app")},d8fe:function(e,t,n){"use strict";n("bd34")},e081:function(e,t,n){},f95d:function(e,t,n){}});